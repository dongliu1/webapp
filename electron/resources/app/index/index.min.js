var sku;
(function(sku) {
	(function(spread) {
		(function(designer) {
			(function(t) {
				"use strict";

				function updateSize() {
					var t, r, i;
					console.log("height",$(".content").children(".fill-spread-content").height())
					$(".content").css("height", $(".content").children(".fill-spread-content").height()); 
					//console.log($("window").width());
					//var width=$("window").width()||1270;
					$(".header").css("width", $("window").width() + "px");
					//console.log(width);
					//$(".header").css("width",  width+"px");
					
					if($(".ribbon-bar").data("sku-wijribbon")) 
						$(".ribbon-bar").data("sku-wijribbon").updateRibbonSize();
					t = $(".no-license-tip");
					if(t.length === 0 ) {
						t = $("<span></span>"); 
						t.addClass("no-license-tip");
					} 
					if(app.isNative && app.getLicenseStatus() !== LicenseStatus.Valid ) {
						r = $(".container").width();
						i = 600, 
						t.css({
							width: i + "px",
							height: "26px",
							"line-height": "26px",
							"text-align": "center",
							color: "white",
							"background-color": "red",
							"text-overflow": "ellipsis",
							position: "absolute",
							left: (r - i) / 2 + "px",
							top: "0",
							opacity: "0.8",
							"pointer-events": "none"
						});
						if(app.getLicenseStatus() === LicenseStatus.Unlicensed){
							t.text(designer.res.noLicense);
						}else if(app.getLicenseStatus() === LicenseStatus.Trial) {
							t.text(designer.util.format(designer.res.trialLicense, app.getTrialDaysLeft())) 
						}else if(app.getLicenseStatus() === LicenseStatus.Expired){
							t.text(designer.res.expiredLicense);
							$(".container").append(t);
						}
					}
				}
				
				var i = null;
				$(document).ready(function() {
					designer.loader.loadContent();
					$(window).resize(updateSize);
					//$(window).load(updateSize);
					updateSize();
				}), 
				designer.loader.ready(function() {
					updateSize();
					$(window).unbind("resize.wijribbon");
					
				})
			})(designer.index || (designer.index = {}));
			var t = designer.index
		})(spread.designer || (spread.designer = {}));
		
		var designer = spread.designer
	})(sku.spread || (sku.spread = {}));
	var spread = sku.spread
})(sku || (sku = {}))